# Коротко о Swift

---

## Основы Swift

Команда на Swift – это утверждение. Текстовый файл Swift состоит из строк текста. Разрывы строк имеют значение. Типичный пример программы – одно утверждение на одной строке:
```Swift
print("hello")
print("world")
```
Вы можете комбинировать более одного оператора в строке, но тогда вам нужно поставить точку с запятой между ними:
```Swift
print("hello"); print("world")
```
Можни и так:
```Swift
print("hello");
print("world");
```
Комментарии – это все, что идет после двух косых черт в строке:
```Swift
print ("world") // это комментарий, поэтому Swift его игнорирует
```
Многострочный комментарий:
```Swift
/*
...
...
...
*/
```
Многие конструкции в Swift используют фигурные скобки в качестве разделителей:
```Swift
   class Dog {
        func bark() {
            print("woof")
        }
}
```
Swift – это компилируемый язык. Это означает, что ваш код должен быть скомилирован, то есть пройти через компилятор и превратиться из текста в низкоуровневую форму, понятную компьютеру, прежде чем он сможет работать и фактически делать то, что он делает.

## Все – это объект?

Условно говоря, объект – это то, чему вы можете отправить определенную команду.

В Swift команды отправляются с помощью точки:
```Swift
fido.bark() 
rover.sit()
```

В языке программирования Swift даже «примитивные» объекты могут отправлять сообщения:
```Swift
let s = 1.description
```
Тип объекта может быть расширен в Swift. Это означает, что вы можете определять свои собственные команды для каждого типа данных. Например, вы обычно не можете отправить команду «Скажи привет» типу Int, но вы можете изменить тип Int, чтобы у вас появилась данная возможность:
```Swift
extension Int {
        func sayHello() {
            print("Привет, Я \(self)")
        }
}
sayHello() // выводит: "Привет, Я 1"
```

## Три типа объектов

Если вы знаете Objective-C или какой-либо другой объектно-ориентированный язык, вы можете быть удивлены тем, какой тип объекта представляет собой число 1. Во многих языках, таких как Objective-C, тип объекта является классом. В Swift есть классы, но 1 в Swift не является классом. Тип 1, а именно Int, является структурой, а 1 – экземпляром данной структуры. И у Swift есть еще однин тип объектов – это enum.

Таким образом, язык программирования Swift имеет три типа объектов:
1. Классы.
2. Структуры.
3. Перечисления.

## Переменные

Все переменные должны быть объявлены. В Swift объявление обычно сопровождается инициализацией, когда вы используете знак равенства для присвоения переменной значения:

```Swift
let one = 1
var two = 2
two = one
one = two // ошибка компиляции
```
Переменная, объявленная с помощью let, является константой. Ее значение присваивается один раз и не может быть изменено.

Каждая переменная имеет свой тип. Этот тип устанавливается при объявлении переменной и не может изменяться.

## Функции

Любой исполняемый код должен находиться внутри тела функции. Функция – это пакет кода, который можно запустить. Ее тело ограничено фигурными скобками. Как правило, у функции есть имя, и она получает это имя через объявление функции.

```Swift
func go() {
    let one = 1
    var two = 2
    two = one 
}
```
Данная последовательность кода выполняется, когда мы вызывем функцию в нашей программе:
```Swift
go()
```
Эта команда является исполняемым кодом, однако она не может существовать сама по себе. Она должна находиться в теле другой функции:
```Swift
func doGo() {
    go()
}
```
Все это похоже на какую-то бесконечную регрессию. Похоже, что ни одна частей вашего кода так никогда и не будет запущена. Если весь исполняемый код должен находиться в функции, тогда как можно запустить какую-либо функцию изначально?

К счастью, на практике проблема регрессия не возникает. Помните, что ваша цель – написать приложение для iOS. Ваше приложение будет запущено на устройстве iOS, которое само по себе изначально будет вызывать определенные функции. Вы начинаете с написания специальных функций, которые будет вызывать сама среда выполнения.

## Структура Swift файла

Программа на Swift может состоять из одного файла или нескольких файлов. В Swift файл является значимой единицей, и существуют определенные правила относительно структуры кода на Swift, которые должны соблюдаться. Только определенные компоненты могут находиться на верхнем уровне файла Swift.

### Модуль импорта

Это модуль даже более высокого уровня, чем сам файл. Модуль может состоять из нескольких файлов. Файлы вашего приложения принадлежат одному модулю и могут видеть друг друга. Но модуль не может видеть другой модуль без оператора импорта. К примеру, в первой строке вашего файла должно быть написано import UIKit.

### Объявления переменных

Переменная, объявленная на верхнем уровне файла, является глобальной переменной: весь код в любом файле сможет ее видеть и получать к ней доступ.

### Объявление функций

Функция, объявленная на верхнем уровне файла, является глобальной функцией: весь код в любом файле сможет видеть и вызывать ее.

### Объявления типов объектов

Объявление для класса, структуры или перечисления:
```Swift
import UIKit
    var one = 1
    func changeOne() {
    }
    class Manny {
    }
    struct Moe {
    }
    enum Jack {
    }
```
Исполняемый код не может находиться на верхнем уровне. Только тело функции может содержать исполняемый код. К примеру, оператор типа one = two или print (“hello”) является исполняемым кодом и не может находиться на верхнем уровне файла. В нашем примере func changeOne() является объявлением функции, поэтому исполняемый код должен находиться внутри фигурных скобок в самом теле функции:
```Swift
 var one = 1
    // исполняемый код не может здесь находиться
    func changeOne() {
        let two = 2 // место для исполняемого кода
        one = two   // место для исполняемого кода
    }
```
Точно так же исполняемый код не может находиться внутри фигурных скобок, которые сопровождают объявление класса Manny. Это верхний уровень объявления класса, а не тела функции. Но объявление класса может содержать объявление функции, и это объявление функции может содержать исполняемый код:
```Swift
 class Manny {
        let name = "manny"
        // исполняемый код не может здесь находиться
        func sayName() {
            print(name) // место для исполняемого кода
        }
}
```

## Область видимости и время жизни объектов

В языке программирования Swift все объекты имеют свою область видимости. Это относится к их способности быть видимыми для других объектов. Объекты, вложенные в другие объекты, образует иерархию объектов. Главное правило состоит в том, что объекты могут видеть другие объекты только на своем собственном уровне и на более высоком уровне.

1. Модуль – это область видимости.
2. Файл – это область видимости.
3. Фигурные скобки – это область видимости.

Таким образом, область видимости является важным способом обмена информацией между частями вашего кода. Две разные функции, объявленные внутри класса Manny, могут видеть имя, объявленное на верхнем уровне. Объект также существует до тех пор, пока существует его окружение.

## Свойства и методы

Внутри трех типов объектов (класса, структуры и перечисления) объекты имеют специальные имена. Возьмем класс Manny в качестве примера:
```Swift
 class Manny {
        let name = "manny"
        func sayName() {
            print(name)
        }
}
```
В этом коде:

1. Переменная name называется свойством этого класса.
2. Функция sayname() называется методом этого класса.

## Пространство имен

Пространство имен – это именованные области программы. Имена объектов внутри пространства имен не могут быть достигнуты другими объектами, если они каким-то образом не пройдут сквозь барьер названия. Это позволяет использовать одно и то же имя в разных местах программы без каких-либо конфликтов.
```Swift
 class Manny {
        class Klass {}
}
```
Способ объявления Klass делает Klass вложенным типом. Он эффективно «скрывает» Klass внутри класса Manny. Manny – это пространство имен. Код внутри Manny может видеть Klass напрямую. Но код за пределами Manny не может этого сделать. Он должен явно указать пространство имен, чтобы пройти через барьер, который представляет пространство имен. Для этого необходимо сначала указать имя класса Manny, а затем использовать точку:
```Swift
Manny.Klass
```

## Модули

Пространства имен верхнего уровня называются модулями. Ваше приложение является модулем и, следовательно, пространством имен. Имя этого пространства имен по умолчанию является именем вашего приложения.

Когда вы импортируете модуль, все объявления верхнего уровня этого модуля становятся видимыми для вашего кода. Например, фреймворк Foundation Cocoa, где находится NSString, является модулем. Когда вы программируете на iOS, вы используете import Foundation (или import UIKit, который импортирует Foundation), что позволяет вам использовать NSString, не используя Foundation.NSString.

Сам Swift определен в модуле Swift. Но вам не нужно импортировать его, потому что ваш код всегда неявно импортирует модуль Swift.

## Экземпляры

